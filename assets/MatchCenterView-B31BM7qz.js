import{e as he,r as y,a as Z,o as fe,f as xe,g as l,i as s,l as b,t as u,x as V,y as Y,s as be,n as p,z as C,F as L,k as $,p as we,h as i}from"./vendor-BHPTlv71.js";import{u as _e,s as T,_ as ye}from"./index-BEMb2HgI.js";const Ce={class:"min-h-screen match-center-bg bg-gradient-to-br from-blue-900 via-blue-800 to-indigo-900"},Te={class:"container mx-auto px-4 py-8"},ke={class:"flex items-center justify-between mb-8"},Ae={class:"flex items-center space-x-4"},Ee={key:0,class:"text-right"},Se={class:"match-id-value text-white font-mono"},Ne={key:0,class:"text-center py-20"},Me={key:1,class:"text-center py-20"},Be={class:"match-error-text text-blue-200 mb-6"},Oe={key:2,class:"space-y-8"},De={class:"match-center-card bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20"},Ue={class:"grid md:grid-cols-3 gap-6 items-center"},Ie={class:"text-center"},Le={class:"match-team-name text-4xl font-bold text-white mb-2"},$e={class:"match-score match-score-team-a text-6xl font-bold text-blue-300"},Re={key:0,class:"mt-2"},Pe={class:"text-center"},qe={class:"mb-4"},He={key:0,class:"text-center"},je={class:"match-timer text-4xl font-bold text-white font-mono"},Je={key:1,class:"text-center"},We={key:2,class:"text-center"},Ve={class:"text-2xl font-bold text-yellow-400"},Ye={class:"text-center"},Fe={class:"match-team-name text-4xl font-bold text-white mb-2"},Ge={class:"match-score match-score-team-b text-6xl font-bold text-purple-300"},Ke={key:0,class:"mt-2"},Qe={key:0,class:"match-center-card bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20"},Xe={class:"booster-section-title text-2xl font-bold text-white mb-6 flex items-center"},ze={class:"team-label-your-team ml-3 text-sm bg-green-600 px-3 py-1 rounded-full"},Ze={class:"grid grid-cols-1 sm:grid-cols-2 gap-4"},et={class:"flex items-center justify-between mb-3"},tt={class:"flex items-center space-x-3"},st={class:"text-right"},ot={key:0,class:"status-active text-sm font-semibold"},at={key:1,class:"status-expired text-sm font-semibold"},nt={key:2,class:"status-expired text-sm font-semibold"},rt={key:3,class:"status-ready text-sm font-semibold"},lt={key:0,class:"text-center"},it=["onClick","disabled"],dt={key:0,class:"flex items-center justify-center"},ct={key:1,class:"flex items-center justify-center"},ut={key:1,class:"text-center"},mt={class:"booster-timer-active bg-green-500/20 border border-green-400 rounded-lg p-3"},vt={class:"booster-timer-value text-green-400 font-bold text-lg"},gt={key:2,class:"text-center"},pt={key:3,class:"text-center"},ht={class:"booster-status-used bg-gray-500/20 border border-gray-400 rounded-lg p-3"},ft={class:"booster-status-used-text text-gray-400 font-semibold"},xt={class:"match-center-card bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20"},bt={class:"grid md:grid-cols-2 gap-6"},wt={class:"space-y-3"},_t={class:"team-label text-lg font-semibold text-blue-300 flex items-center"},yt={key:0,class:"team-label-your-team ml-2 text-xs bg-blue-500 px-2 py-1 rounded text-white"},Ct={key:0,class:"text-center py-8"},Tt={key:1,class:"space-y-2"},kt={class:"flex items-center justify-between"},At={class:"flex items-center space-x-3"},Et={class:"flex-1"},St={class:"text-right flex flex-col items-end space-y-1"},Nt={key:0},Mt={key:1},Bt={key:2},Ot={key:3},Dt={key:4},Ut={key:0,class:"booster-timer-value bg-yellow-500 text-black px-2 py-1 rounded-full text-xs font-bold font-mono animate-pulse"},It=["onClick","disabled"],Lt={key:0,class:"flex items-center"},$t={key:1},Rt={class:"space-y-3"},Pt={class:"team-label text-lg font-semibold text-purple-300 flex items-center"},qt={key:0,class:"team-label-your-team ml-2 text-xs bg-purple-500 px-2 py-1 rounded text-white"},Ht={key:0,class:"text-center py-8"},jt={key:1,class:"space-y-2"},Jt={class:"flex items-center justify-between"},Wt={class:"flex items-center space-x-3"},Vt={class:"flex-1"},Yt={class:"text-right flex flex-col items-end space-y-1"},Ft={key:0},Gt={key:1},Kt={key:2},Qt={key:3},Xt={key:4},zt={key:0,class:"booster-timer-value bg-yellow-500 text-black px-2 py-1 rounded-full text-xs font-bold font-mono animate-pulse"},Zt=["onClick","disabled"],es={key:0,class:"flex items-center"},ts={key:1},ss={class:"match-center-card bg-white/10 backdrop-blur-sm rounded-xl p-6 border border-white/20"},os={key:0,class:"text-center py-8"},as={key:1,class:"text-center py-8"},ns={key:2,class:"space-y-2 max-h-80 overflow-y-auto"},rs={class:"flex items-center space-x-3"},ls={class:"font-bold text-white w-8 text-center"},is={key:0,class:"text-xs bg-yellow-500 px-2 py-1 rounded"},ds={class:"text-right"},cs={class:"text-white font-bold"},us={class:"text-xs text-blue-200"},ms={class:"flex justify-center space-x-4"},vs=he({__name:"MatchCenterView",props:{id:{}},setup(ee){const R=ee;we();const F=_e(),a=y(null),P=y({}),w=y(null),q=y([]),G=y(!0),K=y(!0),D=y("");let H=null,j=null,E=null;const g=y({}),N=[];let J=!1;const Q=y(0),M=y(0);async function te(){if(!(J||N.length===0)){for(J=!0,console.log("üìù MatchCenter: Processing update queue with",N.length,"items");N.length>0;){const o=N.shift();if(o)try{console.log("üìù MatchCenter: Processing queued update..."),await o(),console.log("‚úÖ MatchCenter: Queued update completed successfully")}catch(t){console.error("‚ùå MatchCenter: Error processing queued update:",t)}}J=!1,console.log("üìù MatchCenter: Update queue processing completed")}}function se(o){N.push(o),te()}function X(){E&&(clearInterval(E),E=null);const o=async()=>{if(!a.value){console.log("‚ö†Ô∏è No match to poll");return}try{const n=Date.now()<M.value;n&&console.log("‚è≠Ô∏è Polling within protection window - will merge instead of replace"),console.log("üìä MatchCenter: Polling for updates...");const{data:e,error:r}=await T.from("matches").select("*").eq("id",a.value.id).single();if(r){console.error("‚ùå MatchCenter: Polling error:",r);return}if(e&&(e.score_a!==a.value.score_a||e.score_b!==a.value.score_b||e.status!==a.value.status||e.time_left!==a.value.time_left||JSON.stringify(e.boosters)!==JSON.stringify(a.value.boosters))){console.log("üìä MatchCenter: Polling detected changes:",{old_scores:`${a.value.score_a} - ${a.value.score_b}`,new_scores:`${e.score_a} - ${e.score_b}`,status:`${a.value.status} -> ${e.status}`,boosters_changed:JSON.stringify(e.boosters)!==JSON.stringify(a.value.boosters)}),console.log("üìä POLLING: About to overwrite local state!"),console.log("üìä POLLING: Current local boosters:",JSON.stringify(a.value.boosters,null,2)),console.log("üìä POLLING: New database boosters:",JSON.stringify(e.boosters,null,2));const v=a.value?.boosters?.teamA?.some(c=>c.countdown)||a.value?.boosters?.teamB?.some(c=>c.countdown),m=e.boosters?.teamA?.some(c=>c.countdown)||e.boosters?.teamB?.some(c=>c.countdown);if(v&&!m&&(console.error("‚ö†Ô∏è‚ö†Ô∏è‚ö†Ô∏è POLLING ABOUT TO DESTROY COUNTDOWN DATA!"),console.error("‚ö†Ô∏è This should not happen - protection window failed!")),n){console.log("üîÄ POLLING: Merging - preserving local booster state");const c=a.value.boosters;a.value={...e,boosters:c}}else a.value=e;U()}}catch(t){console.error("‚ùå MatchCenter: Polling failed:",t)}};console.log("üìä MatchCenter: Starting polling (1000ms interval)"),E=setInterval(o,1e3),o()}function oe(){E&&(console.log("üõë MatchCenter: Stopping polling"),clearInterval(E),E=null)}const ae=async()=>{if(console.log("üß™ MANUAL TEST: Testing simple score update..."),!a.value){console.log("‚ùå No match loaded");return}try{const o=(a.value.score_a||0)+1;console.log("üß™ Sending test score update:",o);const t=await I({score_a:o});console.log("üß™ Test score update result:",t)}catch(o){console.error("üß™ Test score update failed:",o)}},ne=async()=>{if(console.log("üß™ MANUAL TEST: Testing booster database update..."),!a.value){console.log("‚ùå No match loaded");return}try{const o={...a.value.boosters,test_timestamp:new Date().toISOString()};console.log("üß™ Sending test update:",o);const t=await I({boosters:o});console.log("üß™ Test update result:",t)}catch(o){console.error("üß™ Test update failed:",o)}},f=Z(()=>{const o=!w.value||!a.value?null:a.value.team_a===w.value.id?"a":a.value.team_b===w.value.id?"b":null;return console.log("üéØ userTeamSide computed:",{result:o,hasUserTeam:!!w.value,hasMatch:!!a.value,userTeamId:w.value?.id,matchTeamA:a.value?.team_a,matchTeamB:a.value?.team_b}),o});Z(()=>!1);async function re(){if(F.profile?.assigned_team_id)try{const{data:o,error:t}=await T.from("teams").select("*").eq("id",F.profile.assigned_team_id).single();if(t)throw t;w.value=o}catch(o){console.error("Error loading user team:",o)}}async function le(){try{const{data:o,error:t}=await T.from("teams").select("*");if(t)throw t;const n={};o?.forEach(e=>{n[e.id]=e}),P.value=n}catch(o){console.error("Error loading teams:",o)}}async function ie(){try{const{data:o,error:t}=await T.from("matches").select("*").eq("id",R.id).single();if(t)throw t;if(!o){D.value="Match not found";return}a.value=o,console.log("üö® MATCH CENTER - Now watching match:",o.id),H=T.channel(`match_${R.id}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"matches",filter:`id=eq.${R.id}`},n=>{const e=Date.now(),r=e<M.value;if(console.log("üîÑ Match update received in MatchCenterView:",{timestamp:e,ignoreUntil:M.value,withinProtectionWindow:r,timeSinceLastUpdate:e-Q.value,payload:n.new}),r){console.log("üîÄ Within protection window - merging instead of replacing");const v=n.new;if(a.value&&v.boosters){console.log("üîÄ Preserving local booster state, updating other fields");const m={...a.value.boosters};a.value={...v,boosters:m},U();return}}console.log("üîÑ Match update received - BOOSTER CHECK:",n.new?.boosters),console.log("üîç RACE CONDITION CHECK:"),console.log("üîç Current local boosters before overwrite:",JSON.stringify(a.value?.boosters,null,2)),console.log("üîç Incoming payload boosters:",JSON.stringify(n.new.boosters,null,2));const d=n.new;if(console.log("üì• Accepting incoming update without race condition prevention"),a.value=d,n.new.boosters)if(a.value?.boosters?.teamA?.some(m=>m.countdown)||a.value?.boosters?.teamB?.some(m=>m.countdown))console.log("‚úÖ Countdown data present after update");else{console.warn("‚ö†Ô∏è No countdown data found in updated match:",{matchBoosters:a.value?.boosters,payloadBoosters:n.new.boosters}),console.error("üîç DETAILED COUNTDOWN LOSS ANALYSIS:"),console.error("üîç Local teamA boosters:",JSON.stringify(a.value?.boosters?.teamA,null,2)),console.error("üîç Local teamB boosters:",JSON.stringify(a.value?.boosters?.teamB,null,2)),console.error("üîç Incoming teamA boosters:",JSON.stringify(n.new.boosters.teamA,null,2)),console.error("üîç Incoming teamB boosters:",JSON.stringify(n.new.boosters.teamB,null,2));const m=n.new.boosters.teamA?.some(c=>c.countdown)||n.new.boosters.teamB?.some(c=>c.countdown);console.error("üîç Incoming payload has countdown data:",m)}U()}).subscribe(n=>{console.log("üì° MatchCenter: Subscription status:",n),n==="SUBSCRIBED"?(console.log("‚úÖ MatchCenter: Successfully subscribed to real-time updates"),X()):n==="CHANNEL_ERROR"&&(console.error("‚ùå MatchCenter: Subscription error"),X())}),U()}catch(o){console.error("Error loading match:",o),D.value="Failed to load match data"}finally{G.value=!1}}function U(){if(!a.value?.boosters)return;Object.values(g.value).forEach(t=>{t.intervalId&&clearInterval(t.intervalId)}),g.value={},["teamA","teamB"].forEach(t=>{const n=t==="teamA"?"a":"b";(a.value?.boosters?.[t]||[]).forEach((r,d)=>{if(r.activated&&r.activatedAt&&r.duration){const v=new Date(r.activatedAt).getTime(),m=r.duration*60*1e3,c=v+m,x=Date.now(),_=Math.max(0,(c-x)/1e3);if(_>0){const h=`${n}_${d}`,k={timeLeft:_,intervalId:setInterval(()=>{const A=Math.max(0,(c-Date.now())/1e3),S=g.value[h];S&&(S.timeLeft=A,A<=0&&(clearInterval(S.intervalId),delete g.value[h],de(t,r.id)))},1e3)};g.value[h]=k}}})})}async function de(o,t){if(a.value)try{console.log(`üö´ Marking booster ${t} as expired for ${o}`);const n={...a.value.boosters},e=o;n[e]&&(n[e]=n[e].map(d=>d.id===t?{...d,expired:!0}:d));const{error:r}=await T.from("matches").update({boosters:n}).eq("id",a.value.id);r?console.error("Error marking booster as expired:",r):(console.log(`‚úÖ Booster ${t} marked as expired in database`),a.value&&(a.value.boosters=n))}catch(n){console.error("Error marking booster as expired:",n)}}async function ce(){try{const o=Object.values(P.value),t=[];for(const n of o){const{data:e}=await T.from("matches").select("*").or(`team_a.eq.${n.id},team_b.eq.${n.id}`).eq("status","finished");let r=0,d=0,v=0,m=0,c=0;e?.forEach(_=>{const h=_.team_a===n.id,k=h?_.score_a:_.score_b,A=h?_.score_b:_.score_a;m+=k,c+=A,k>A?r++:k<A?d++:v++});const x=r*3+v*1;t.push({id:n.id,name:n.name,points:x,wins:r,losses:d,goals_for:m,goals_against:c})}q.value=t.sort((n,e)=>{const r=e.points-n.points;if(r!==0)return r;const d=n.goals_for-n.goals_against;return e.goals_for-e.goals_against-d})}catch(o){console.error("Error loading standings:",o)}finally{K.value=!1}}async function I(o){return console.log("üîß updateMatch function started (MatchCenterView)"),new Promise((t,n)=>{se(async()=>{try{const r=Date.now();if(Q.value=r,M.value=r+8e3,console.log("üìù MatchCenter: Processing queued update with:",o),console.log("üìù MatchCenter: Match ID:",a.value?.id),console.log("üìù MatchCenter: Update timestamp:",r),console.log("üìù MatchCenter: Will ignore real-time updates until:",new Date(M.value).toISOString()),console.log("üìù MatchCenter: Current match state before update:",{status:a.value?.status,score_a:a.value?.score_a,score_b:a.value?.score_b,boosters:a.value?.boosters?"present":"absent"}),o.boosters){console.log("üîç EXACT BOOSTERS BEING SENT TO DB:",JSON.stringify(o.boosters,null,2)),console.log("üîç MATCH CENTER - SENDING BOOSTER UPDATE FOR MATCH:",a.value?.id);const v=o.boosters.teamA?.some(c=>c.countdown),m=o.boosters.teamB?.some(c=>c.countdown);console.log("üîç SENDING COUNTDOWN DATA CHECK:",{teamA:v,teamB:m,hasAnyCountdown:v||m})}const d=await T.from("matches").update(o).eq("id",a.value?.id).select();if(console.log("üìù MatchCenter: Supabase update result:",d),console.log("üìù MatchCenter: Returned data after update:",d.data),d.error){console.error("‚ùå MatchCenter: Error updating match:",d.error),n(d.error);return}if(o.boosters&&d.data&&d.data[0]){const v=d.data[0].boosters;console.log("üîç CRITICAL: Boosters returned from database:",JSON.stringify(v,null,2));const m=v?.teamA?.some(x=>x.countdown)||v?.teamB?.some(x=>x.countdown),c=o.boosters.teamA?.some(x=>x.countdown)||o.boosters.teamB?.some(x=>x.countdown);console.log("üîç COUNTDOWN PERSISTENCE CHECK:",{sentCountdown:c,dbHasCountdown:m,countdownWasLost:c&&!m}),c&&!m&&(console.error("‚ùå‚ùå‚ùå DATABASE DID NOT PERSIST COUNTDOWN DATA!"),console.error("‚ùå This is a database issue, not a code issue"))}console.log("‚úÖ MatchCenter: Match updated successfully in database"),a.value&&(Object.assign(a.value,o),console.log("‚úÖ MatchCenter: Local state updated immediately:",{status:a.value.status,updateType:Object.keys(o).join(", "),boosters:o.boosters?"updated":"not changed"})),await new Promise(v=>setTimeout(v,100)),t({success:!0})}catch(r){console.error("‚ùå MatchCenter: Exception updating match:",r),n(r)}})})}async function W(o){if(console.log("üéØ activateUserBooster called with index:",o),!a.value?.boosters||!f.value){console.log("‚ùå No match boosters or user team side");return}const t={...a.value.boosters},n=f.value==="a"?"teamA":"teamB";if(t[n]&&t[n][o]&&!t[n][o].activated&&!t[n][o].countdown){const e=[...t[n]],r=e[o];e[o]={...r,countdown:!0,countdownStartedAt:new Date().toISOString(),activatedBy:"user"},t[n]=e,console.log(`üïê USER starting countdown for team ${f.value.toUpperCase()} booster:`,{boosterIndex:o,booster:e[o],boosterType:r.id,hasDuration:!!r.duration,allBoosters:t}),await I({boosters:t}),setTimeout(async()=>{try{console.log("‚è∞ 15-second countdown timer fired!"),console.log("‚è∞ Re-fetching match state from database to verify countdown...");const d=await T.from("matches").select("boosters").eq("id",a.value?.id).single();if(d.error){console.error("‚ùå Error checking match state during countdown:",d.error);return}const v=d.data.boosters,m=v?.[n]?.[o];if(console.log("‚è∞ Database booster state:",{teamKey:n,boosterIndex:o,currentBooster:m,hasCountdown:m?.countdown,isActivated:m?.activated}),!m?.countdown){console.log("üö´ Booster countdown was cancelled or already processed");return}console.log(`üöÄ USER countdown complete - activating booster for team ${f.value?.toUpperCase()||"UNKNOWN"}`);const c={...v},x=[...c[n]||[]];x[o]={...m,activated:!0,activatedAt:new Date().toISOString(),countdown:!1},c[n]=x;const _={boosters:c};if(r.id==="coach_stroke")console.log("üéØ Coach stroke activated by user");else if(r.id==="goalie_timeout"){console.log("ü•Ö Goalie timeout activated by user - opposing goalie benched");const h=f.value==="a"?"b":"a";_.special_state=`goalie_timeout_${h}`}if(await I(_),console.log("‚úÖ User booster activated successfully!",{boosterName:r.name,boosterId:r.id,hasDuration:!!r.duration,duration:r.duration}),r.duration&&r.duration>0){console.log(`‚è∞ Timed booster activated by user: ${r.name} for ${r.duration} minute(s)`);const h=`${n}_${o}`,k=r.duration*60*1e3,A=Date.now()+k;g.value[h]={timeLeft:Math.floor(k/1e3),intervalId:setInterval(()=>{const S=Math.max(0,Math.floor((A-Date.now())/1e3));g.value[h]&&(g.value[h].timeLeft=S),S<=0&&g.value[h]&&(clearInterval(g.value[h].intervalId),delete g.value[h])},1e3)}}else console.log(`‚ö° Instant effect booster activated by user: ${r.name}`)}catch(d){console.error("Error during user booster activation after countdown:",d)}},15e3)}else console.log("‚ùå Booster activation conditions not met:",{teamKey:n,boosterIndex:o,hasTeamBoosters:!!t[n],boosterExists:!!(t[n]&&t[n][o]),boosterData:t[n]?t[n][o]:null})}function B(o){return P.value[o]?.name||"Unknown Team"}function ue(o){switch(o){case"active":return"match-status-active bg-green-500 text-white";case"pending":return"match-status-pending bg-yellow-500 text-black";case"paused":return"bg-orange-500 text-white";case"finished":return"match-status-finished bg-gray-500 text-white";default:return"bg-gray-400 text-white"}}function me(o){const t=Math.floor(o/60),n=o%60;return`${t}:${n.toString().padStart(2,"0")}`}function O(o){return a.value?.boosters?.[o]||[]}function ve(){if(!f.value)return[];const o=f.value==="a"?"teamA":"teamB";return O(o)}function ge(o){return o===w.value?.id?"bg-blue-600/30 border border-blue-400":o===a.value?.team_a||o===a.value?.team_b?"bg-white/10 border border-white/20":"bg-white/5"}function z(o){return o===w.value?.id||o===a.value?.team_a||o===a.value?.team_b}function pe(o){return o===w.value?.id?"YOUR TEAM":o===a.value?.team_a||o===a.value?.team_b?"IN MATCH":""}return fe(async()=>{await Promise.all([le(),re()]),await ie(),await ce(),j=setInterval(()=>{},1e3),window.testBoosterUpdate=ne,window.testScoreUpdate=ae}),xe(()=>{H&&H.unsubscribe(),j&&clearInterval(j),oe(),Object.values(g.value).forEach(o=>{o.intervalId&&clearInterval(o.intervalId)})}),(o,t)=>{const n=be("RouterLink");return i(),l("div",Ce,[s("div",Te,[s("div",ke,[s("div",Ae,[s("button",{onClick:t[0]||(t[0]=e=>o.$router.back()),class:"match-back-btn bg-blue-600 hover:bg-blue-700 text-white p-2 rounded-lg transition-colors"}," ‚Üê Back "),t[1]||(t[1]=s("h1",{class:"match-header-title text-3xl font-bold text-white"},"Match Center",-1))]),a.value?(i(),l("div",Ee,[t[2]||(t[2]=s("div",{class:"match-id-label text-sm text-blue-200"},"Match ID",-1)),s("div",Se,u(a.value.id.slice(-8)),1)])):b("",!0)]),G.value?(i(),l("div",Ne,[...t[3]||(t[3]=[s("div",{class:"match-loading-spinner animate-spin rounded-full h-12 w-12 border-b-2 border-white mx-auto mb-4"},null,-1),s("p",{class:"match-loading-text text-blue-200 text-xl"},"Loading match data...",-1)])])):D.value?(i(),l("div",Me,[t[5]||(t[5]=s("div",{class:"text-6xl mb-4"},"‚ùå",-1)),t[6]||(t[6]=s("h2",{class:"match-error-title text-2xl font-bold text-white mb-4"},"Match Not Found",-1)),s("p",Be,u(D.value),1),V(n,{to:"/dashboard",class:"match-back-btn bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg transition-colors inline-block"},{default:Y(()=>[...t[4]||(t[4]=[C(" Return to Dashboard ",-1)])]),_:1})])):a.value?(i(),l("div",Oe,[s("div",De,[s("div",Ue,[s("div",Ie,[s("div",Le,u(B(a.value.team_a)),1),s("div",$e,u(a.value.score_a),1),w.value?.id===a.value.team_a?(i(),l("div",Re,[...t[7]||(t[7]=[s("span",{class:"your-team-badge bg-blue-500 text-white px-3 py-1 rounded-full text-sm font-semibold"}," YOUR TEAM ",-1)])])):b("",!0)]),s("div",Pe,[t[10]||(t[10]=s("div",{class:"match-vs-text text-2xl font-bold text-white mb-4"},"VS",-1)),s("div",qe,[s("span",{class:p(["px-4 py-2 rounded-full text-sm font-semibold",ue(a.value.status)])},u(a.value.status.toUpperCase()),3)]),a.value.status==="active"&&a.value.time_left>0?(i(),l("div",He,[s("div",je,u(me(a.value.time_left)),1),t[8]||(t[8]=s("div",{class:"match-timer-label text-blue-200 text-sm"},"Time Remaining",-1))])):a.value.status==="finished"?(i(),l("div",Je,[...t[9]||(t[9]=[s("div",{class:"match-final-status text-2xl font-bold text-gray-400"},"FINAL",-1)])])):(i(),l("div",We,[s("div",Ve,u(a.value.status.toUpperCase()),1)]))]),s("div",Ye,[s("div",Fe,u(B(a.value.team_b)),1),s("div",Ge,u(a.value.score_b),1),w.value?.id===a.value.team_b?(i(),l("div",Ke,[...t[11]||(t[11]=[s("span",{class:"your-team-badge bg-purple-500 text-white px-3 py-1 rounded-full text-sm font-semibold"}," YOUR TEAM ",-1)])])):b("",!0)])])]),f.value&&a.value.status==="active"?(i(),l("div",Qe,[s("h2",Xe,[t[12]||(t[12]=s("span",{class:"mr-3"},"‚ö°",-1)),t[13]||(t[13]=C(" Your Team's Boosters ",-1)),s("span",ze,u(B(w.value?.id||"")),1)]),s("div",Ze,[(i(!0),l(L,null,$(ve(),(e,r)=>(i(),l("div",{key:`user-booster-${r}`,class:p(["booster-card bg-white/5 rounded-lg p-4 border border-white/10",{"booster-card-active":e.activated&&!e.expired,"booster-card-countdown":e.countdown&&!e.activated&&!e.expired,"booster-card-expired":e.expired,"booster-card-used":e.used&&!e.activated}])},[s("div",et,[s("div",tt,[s("span",{class:p(["text-2xl",{"line-through opacity-50":e.expired}])},u(e.expired?"üö´":e.icon||"‚ö°"),3),s("div",null,[s("div",{class:p(["booster-name text-white font-semibold",{"booster-name-expired line-through text-gray-400":e.expired}])},u(e.name||e.title),3),s("div",{class:p(["booster-description text-blue-200 text-sm",{"booster-description-expired text-gray-500":e.expired}])},u(e.description),3)])]),s("div",st,[e.activated?(i(),l("div",ot," ‚úì ACTIVE ")):e.expired?(i(),l("div",at," ‚óè EXPIRED ")):e.used?(i(),l("div",nt," ‚úì USED ")):(i(),l("div",rt," ‚óè READY "))])]),!e.used&&!e.activated&&!e.countdown?(i(),l("div",lt,[s("button",{onClick:d=>{console.log("üö® BUTTON CLICKED - Index:",r),W(r)},disabled:e.countdown||e.activated,class:"booster-activate-btn-match w-full bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 disabled:from-gray-500 disabled:to-gray-600 text-white font-semibold py-3 px-6 rounded-lg transition-all transform hover:scale-105 disabled:hover:scale-100"},[e.countdown?(i(),l("span",dt,[...t[14]||(t[14]=[s("div",{class:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"},null,-1),C(" Activating... ",-1)])])):(i(),l("span",ct,[...t[15]||(t[15]=[s("span",{class:"mr-2"},"üöÄ",-1),C(" Activate Booster ",-1)])]))],8,it)])):e.activated&&g.value[`${f.value}_${r}`]?(i(),l("div",ut,[s("div",mt,[s("div",vt," ‚è∞ "+u(Math.ceil(g.value[`${f.value}_${r}`]?.timeLeft||0))+"s ",1),t[16]||(t[16]=s("div",{class:"booster-timer-label text-green-300 text-sm"},"remaining",-1))])])):e.expired?(i(),l("div",gt,[...t[17]||(t[17]=[s("div",{class:"booster-status-expired bg-red-500/20 border border-red-400 rounded-lg p-3"},[s("div",{class:"booster-status-expired-text text-red-400 font-semibold line-through"}," üö´ Booster Expired ")],-1)])])):e.used||e.activated?(i(),l("div",pt,[s("div",ht,[s("div",ft,u(e.activated?"‚úì Booster Applied":"‚úì Already Used"),1)])])):b("",!0)],2))),128))])])):b("",!0),s("div",xt,[t[24]||(t[24]=s("h2",{class:"booster-section-title text-2xl font-bold text-white mb-6 flex items-center"},[s("span",{class:"mr-3"},"üéØ"),C(" Selected Boosters ")],-1)),s("div",bt,[s("div",wt,[s("h3",_t,[t[18]||(t[18]=s("span",{class:"mr-2"},"üîµ",-1)),C(" "+u(B(a.value.team_a))+" ",1),f.value==="a"?(i(),l("span",yt,"YOUR TEAM")):b("",!0)]),O("teamA").length?(i(),l("div",Tt,[(i(!0),l(L,null,$(O("teamA"),(e,r)=>(i(),l("div",{key:`team-a-${r}`,class:p(["booster-card rounded-lg p-4 border transition-all",{"booster-card-active bg-green-600/20 border-green-400 shadow-lg":e.activated&&!e.expired,"booster-card-countdown bg-orange-500/20 border-orange-400 animate-pulse":e.countdown&&!e.activated&&!e.expired,"booster-card-expired bg-red-500/20 border-red-400":e.expired,"booster-card-used bg-gray-500/20 border-gray-400":e.used&&!e.activated,"bg-blue-500/10 border-blue-400/30":!e.activated&&!e.expired&&!e.used&&!e.countdown}])},[s("div",kt,[s("div",At,[s("span",{class:p(["text-2xl transition-all",{"line-through opacity-50":e.expired,"animate-bounce":e.activated&&!e.expired||e.countdown&&!e.activated&&!e.expired}])},u(e.expired?"üö´":e.icon||"‚ö°"),3),s("div",Et,[s("div",{class:p(["font-semibold",{"line-through text-gray-400":e.expired,"text-green-300":e.activated&&!e.expired,"text-orange-300 animate-pulse":e.countdown&&!e.activated&&!e.expired,"text-white":!e.expired&&!e.activated&&!e.countdown}])},u(e.name||e.title),3),s("div",{class:p(["text-sm",{"text-gray-500":e.expired,"text-green-200":e.activated&&!e.expired,"text-orange-200":e.countdown&&!e.activated&&!e.expired,"text-blue-200":!e.expired&&!e.activated&&!e.countdown}])},u(e.description),3)])]),s("div",St,[s("span",{class:p(["text-sm font-semibold px-2 py-1 rounded-full",{"bg-red-500/20 text-red-400 border border-red-400":e.expired,"bg-green-500/20 text-green-400 border border-green-400":e.activated&&!e.expired,"bg-orange-500/20 text-orange-400 border border-orange-400 animate-pulse":e.countdown&&!e.activated&&!e.expired,"bg-gray-500/20 text-gray-400 border border-gray-400":e.used&&!e.activated,"bg-yellow-500/20 text-yellow-400 border border-yellow-400":!e.activated&&!e.expired&&!e.used&&!e.countdown}])},[e.expired?(i(),l("span",Nt,"‚óè EXPIRED")):e.activated?(i(),l("span",Mt,"‚óè ACTIVE")):e.countdown?(i(),l("span",Bt,"‚óè COUNTDOWN")):e.used?(i(),l("span",Ot,"‚óè USED")):(i(),l("span",Dt,"‚óè READY"))],2),e.activated&&g.value[`a_${r}`]?(i(),l("span",Ut," ‚è∞ "+u(Math.ceil(g.value[`a_${r}`]?.timeLeft||0))+"s ",1)):b("",!0),f.value==="a"&&!e.activated&&!e.used&&!e.expired&&!e.countdown?(i(),l("button",{key:1,onClick:d=>{console.log("üö® TEAM A BUTTON CLICKED - Index:",r),W(r)},disabled:e.countdown||e.activated,class:"booster-activate-btn-match mt-2 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 disabled:from-gray-500 disabled:to-gray-600 text-white text-xs font-semibold py-2 px-3 rounded-lg transition-all transform hover:scale-105 disabled:hover:scale-100"},[e.countdown?(i(),l("span",Lt,[...t[20]||(t[20]=[s("div",{class:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"},null,-1),C(" Activating... ",-1)])])):(i(),l("span",$t,"üöÄ Activate"))],8,It)):b("",!0)])])],2))),128))])):(i(),l("div",Ct,[...t[19]||(t[19]=[s("div",{class:"text-4xl mb-2"},"üìã",-1),s("p",{class:"match-error-text text-blue-200"},"No boosters selected",-1)])]))]),s("div",Rt,[s("h3",Pt,[t[21]||(t[21]=s("span",{class:"mr-2"},"üü£",-1)),C(" "+u(B(a.value.team_b))+" ",1),f.value==="b"?(i(),l("span",qt,"YOUR TEAM")):b("",!0)]),O("teamB").length?(i(),l("div",jt,[(i(!0),l(L,null,$(O("teamB"),(e,r)=>(i(),l("div",{key:`team-b-${r}`,class:p(["booster-card rounded-lg p-4 border transition-all",{"booster-card-active bg-green-600/20 border-green-400 shadow-lg":e.activated&&!e.expired,"booster-card-countdown bg-orange-500/20 border-orange-400 animate-pulse":e.countdown&&!e.activated&&!e.expired,"booster-card-expired bg-red-500/20 border-red-400":e.expired,"booster-card-used bg-gray-500/20 border-gray-400":e.used&&!e.activated,"bg-purple-500/10 border-purple-400/30":!e.activated&&!e.expired&&!e.used&&!e.countdown}])},[s("div",Jt,[s("div",Wt,[s("span",{class:p(["text-2xl transition-all",{"line-through opacity-50":e.expired,"animate-bounce":e.activated&&!e.expired||e.countdown&&!e.activated&&!e.expired}])},u(e.expired?"üö´":e.icon||"‚ö°"),3),s("div",Vt,[s("div",{class:p(["booster-name font-semibold",{"booster-name-expired line-through text-gray-400":e.expired,"text-green-300":e.activated&&!e.expired,"text-orange-300 animate-pulse":e.countdown&&!e.activated&&!e.expired,"text-white":!e.expired&&!e.activated&&!e.countdown}])},u(e.name||e.title),3),s("div",{class:p(["booster-description text-sm",{"booster-description-expired text-gray-500":e.expired,"text-green-200":e.activated&&!e.expired,"text-orange-200":e.countdown&&!e.activated&&!e.expired,"text-purple-200":!e.expired&&!e.activated&&!e.countdown}])},u(e.description),3)])]),s("div",Yt,[s("span",{class:p(["text-sm font-semibold px-2 py-1 rounded-full",{"status-expired bg-red-500/20 text-red-400 border border-red-400":e.expired,"status-active bg-green-500/20 text-green-400 border border-green-400":e.activated&&!e.expired,"bg-orange-500/20 text-orange-400 border border-orange-400 animate-pulse":e.countdown&&!e.activated&&!e.expired,"bg-gray-500/20 text-gray-400 border border-gray-400":e.used&&!e.activated,"status-ready bg-yellow-500/20 text-yellow-400 border border-yellow-400":!e.activated&&!e.expired&&!e.used&&!e.countdown}])},[e.expired?(i(),l("span",Ft,"‚óè EXPIRED")):e.activated?(i(),l("span",Gt,"‚óè ACTIVE")):e.countdown?(i(),l("span",Kt,"‚óè COUNTDOWN")):e.used?(i(),l("span",Qt,"‚óè USED")):(i(),l("span",Xt,"‚óè READY"))],2),e.activated&&g.value[`b_${r}`]?(i(),l("span",zt," ‚è∞ "+u(Math.ceil(g.value[`b_${r}`]?.timeLeft||0))+"s ",1)):b("",!0),f.value==="b"&&!e.activated&&!e.used&&!e.expired&&!e.countdown?(i(),l("button",{key:1,onClick:d=>{console.log("üö® TEAM B BUTTON CLICKED - Index:",r),W(r)},disabled:e.countdown||e.activated,class:"booster-activate-btn-match mt-2 bg-gradient-to-r from-yellow-500 to-orange-500 hover:from-yellow-600 hover:to-orange-600 disabled:from-gray-500 disabled:to-gray-600 text-white text-xs font-semibold py-2 px-3 rounded-lg transition-all transform hover:scale-105 disabled:hover:scale-100"},[e.countdown?(i(),l("span",es,[...t[23]||(t[23]=[s("div",{class:"animate-spin rounded-full h-3 w-3 border-b-2 border-white mr-1"},null,-1),C(" Activating... ",-1)])])):(i(),l("span",ts,"üöÄ Activate"))],8,Zt)):b("",!0)])])],2))),128))])):(i(),l("div",Ht,[...t[22]||(t[22]=[s("div",{class:"text-4xl mb-2"},"üìã",-1),s("p",{class:"match-error-text text-blue-200"},"No boosters selected",-1)])]))])])]),s("div",ss,[t[27]||(t[27]=s("h2",{class:"booster-section-title text-2xl font-bold text-white mb-6 flex items-center"},[s("span",{class:"mr-3"},"üèÜ"),C(" Tournament Standings ")],-1)),K.value?(i(),l("div",os,[...t[25]||(t[25]=[s("div",{class:"match-loading-spinner animate-spin rounded-full h-8 w-8 border-b-2 border-white mx-auto mb-2"},null,-1),s("p",{class:"match-loading-text text-blue-200"},"Loading standings...",-1)])])):q.value.length===0?(i(),l("div",as,[...t[26]||(t[26]=[s("div",{class:"text-4xl mb-4"},"üìä",-1),s("p",{class:"match-error-text text-blue-200"},"No tournament standings available",-1)])])):(i(),l("div",ns,[(i(!0),l(L,null,$(q.value.slice(0,10),(e,r)=>(i(),l("div",{key:e.id,class:p(["flex justify-between items-center p-3 rounded-lg",ge(e.id)])},[s("div",rs,[s("span",ls,u(r+1)+".",1),s("span",{class:p(["text-white",{"font-bold":z(e.id)}])},u(e.name),3),z(e.id)?(i(),l("span",is,u(pe(e.id)),1)):b("",!0)]),s("div",ds,[s("div",cs,u(e.points||0)+" pts",1),s("div",us,u(e.wins||0)+"W "+u(e.losses||0)+"L",1)])],2))),128))]))]),s("div",ms,[V(n,{to:`/scoreboard/${a.value.id}`,class:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center space-x-2",target:"_blank"},{default:Y(()=>[...t[28]||(t[28]=[s("span",null,"üì∫",-1),s("span",null,"Live Scoreboard",-1)])]),_:1},8,["to"]),V(n,{to:"/dashboard",class:"bg-purple-600 hover:bg-purple-700 text-white px-6 py-3 rounded-lg font-medium transition-colors flex items-center space-x-2"},{default:Y(()=>[...t[29]||(t[29]=[s("span",null,"üìà",-1),s("span",null,"My Dashboard",-1)])]),_:1})])])):b("",!0)])])}}}),hs=ye(vs,[["__scopeId","data-v-246d779f"]]);export{hs as default};
