import{u as H,a as q,s as w}from"./index-BEMb2HgI.js";import{e as F,r as _,o as G,w as O,g as l,i as t,l as d,z as h,u as r,t as a,x as L,A as p,y as c,O as m,m as b,F as J,k as K,q as Q,n as v,h as i}from"./vendor-BHPTlv71.js";const W={class:"container mx-auto px-3 md:px-4 py-8 md:py-16"},X={class:"text-center mb-8 md:mb-16"},Y={class:"home-title font-theme-title text-4xl md:text-6xl"},Z=["src","alt"],I={key:1,class:"text-4xl md:text-6xl"},tt={class:"home-subtitle font-theme-subtitle text-base md:text-lg"},et={class:"grid md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-8 max-w-6xl mx-auto mb-8 md:mb-16"},st={class:"nav-card-title"},ot={class:"nav-card-description"},at={class:"nav-card-title"},rt={class:"nav-card-description"},it={class:"nav-card-title"},nt={class:"nav-card-description"},lt={class:"nav-card-title"},dt={class:"nav-card-description"},ct={class:"nav-card-title"},mt={class:"nav-card-description"},ut={class:"nav-card-title"},pt={class:"nav-card-title"},ft={class:"nav-card-description"},xt={class:"nav-card-title"},_t={class:"nav-card-description mb-2"},ht={key:0,class:"mt-8 md:mt-16 max-w-6xl mx-auto"},bt={key:0,class:"text-center py-8"},vt={key:1,class:"text-center py-8"},gt={key:2,class:"space-y-3 md:space-y-4"},yt={class:"block md:hidden"},wt={class:"mb-3"},kt={class:"text-lg font-bold font-theme-title leading-tight mb-2"},Tt={class:"flex items-center justify-center gap-3 mb-3"},$t={class:"text-3xl font-bold"},Mt={class:"text-3xl font-bold"},Dt={class:"flex flex-wrap gap-2 justify-center text-center"},St={key:0,class:"text-sm font-semibold opacity-90 px-2 py-1 bg-black/10 rounded"},Et={key:1,class:"text-xs opacity-70 px-2 py-1 bg-black/10 rounded"},At={key:2,class:"text-xs opacity-70 px-2 py-1 bg-black/10 rounded"},Ct={class:"hidden md:flex md:items-center md:justify-between gap-4"},Vt={class:"flex-1"},Bt={class:"flex items-center gap-3 mb-2 flex-wrap"},Nt={key:0,class:"text-lg font-bold opacity-90"},Ut={key:1,class:"text-sm opacity-70"},Lt={class:"text-xl md:text-2xl font-bold font-theme-title"},Rt={class:"flex items-center gap-6"},jt={class:"flex items-center gap-4"},Pt={class:"text-4xl font-bold"},zt={class:"text-4xl font-bold"},Ht={key:0,class:"text-sm opacity-70 min-w-[80px] text-right"},qt={class:"mt-12 md:mt-20 text-center"},Ft={class:"features-title text-xl md:text-2xl"},Gt={class:"grid md:grid-cols-3 gap-4 md:gap-8 max-w-4xl mx-auto"},Ot={class:"feature-item text-center p-4"},Jt={class:"text-base md:text-lg"},Kt={class:"text-sm md:text-base"},Qt={class:"feature-item text-center p-4"},Wt={class:"text-base md:text-lg"},Xt={class:"text-sm md:text-base"},Yt={class:"feature-item text-center p-4"},Zt={class:"text-base md:text-lg"},It={class:"text-sm md:text-base"},oe=F({__name:"HomeView",setup(te){console.log("üè† HomeView component loading...");const n=H(),u=q(),$=Q(),k=_([]),M=_({}),D=_({}),S=_({}),T=_(!0);function R(e){switch(e){case"admin":return"role-badge-admin";case"team":return"role-badge-team";case"user":return"role-badge-user";default:return"role-badge-default"}}async function j(){try{const{data:e,error:s}=await w.from("teams").select("id, name");if(s)throw s;const o={};e?.forEach(f=>{o[f.id]=f}),M.value=o}catch(e){console.error("Error loading teams:",e)}}async function P(){try{const{data:e,error:s}=await w.from("tournaments").select("id, name");if(s)throw s;const o={};e?.forEach(x=>{o[x.id]=x}),D.value=o;const{data:f,error:N}=await w.from("tournament_divisions").select("id, name, tournament_id");if(N)throw N;const U={};f?.forEach(x=>{U[x.id]=x}),S.value=U}catch(e){console.error("Error loading tournaments and divisions:",e)}}async function z(){try{T.value=!0;const{data:e,error:s}=await w.from("matches").select("*").in("status",["pending","active"]).order("start_time",{ascending:!0}).limit(10);if(s)throw s;console.log("üìÖ Loaded upcoming matches:",e),k.value=e||[]}catch(e){console.error("Error loading upcoming matches:",e)}finally{T.value=!1}}function g(e,s){if(s&&s.boosters){if(s.team_a===e&&s.boosters.team_a_placeholder)return s.boosters.team_a_placeholder;if(s.team_b===e&&s.boosters.team_b_placeholder)return s.boosters.team_b_placeholder}return M.value[e]?.name||"Unknown Team"}function y(e){if(e.tournament_id){const s=D.value[e.tournament_id],o=e.division_id?S.value[e.division_id]:null;let f=s?.name||"Tournament";return o&&(f+=` - ${o.name}`),{label:f,class:"bg-purple-500/80 text-white"}}return{label:"Standalone Match",class:"bg-gray-500/80 text-white"}}function E(e){return e?new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}):"Date TBD"}function A(e){const s=Math.floor(e/60),o=e%60;return`${s}:${o.toString().padStart(2,"0")}`}function C(e){return e?e.substring(0,5):""}function V(e){switch(e){case"active":return"bg-green-500 text-white";case"pending":return"bg-blue-500 text-white";case"paused":return"bg-yellow-500 text-white";case"finished":return"bg-gray-500 text-white";default:return"bg-gray-400 text-white"}}function B(){if(n.isAuthenticated&&n.profile?.role){const e=$.currentRoute.value;if(document.referrer&&!document.referrer.includes(window.location.origin+"/")||Object.keys(e.query).length>0)return;switch(n.profile.role){case"admin":break;case"user":$.replace("/dashboard");break}}}return G(()=>{console.log("üè† HomeView mounted successfully!"),Promise.all([j(),P()]).then(()=>{z()}),setTimeout(()=>{B()},500)}),O(()=>n.profile?.role,e=>{e==="user"&&setTimeout(()=>{B()},100)}),(e,s)=>(i(),l("div",{class:"min-h-screen transition-colors duration-500",style:b({background:`linear-gradient(to bottom right, ${r(u).currentTheme?.colors.background}, ${r(u).currentTheme?.colors.surface})`})},[t("div",W,[t("div",X,[t("h1",Y,[r(u).currentTheme?.logo?(i(),l("img",{key:0,src:r(u).currentTheme.logo,alt:r(u).currentTheme.name,class:"inline w-12 h-12 md:w-16 md:h-16 mr-2 md:mr-4"},null,8,Z)):(i(),l("span",I,"üèë")),h(" "+a(e.$t("home.title")),1)]),t("p",tt,a(e.$t("home.subtitle")),1)]),t("div",et,[L(r(m),{to:"/scoreboard",class:"nav-card"},{default:c(()=>[s[0]||(s[0]=t("div",{class:"text-4xl mb-4"},"üì∫",-1)),t("h2",st,a(e.$t("home.liveScoreboard.title")),1),t("p",ot,a(e.$t("home.liveScoreboard.description")),1)]),_:1}),L(r(m),{to:"/game-guide",class:"nav-card"},{default:c(()=>[s[1]||(s[1]=t("div",{class:"text-4xl mb-4"},"ÔøΩ",-1)),t("h2",at,a(e.$t("home.gameGuide.title")),1),t("p",rt,a(e.$t("home.gameGuide.description")),1)]),_:1}),r(n).isAdmin?(i(),p(r(m),{key:0,to:"/admin",class:"nav-card"},{default:c(()=>[s[2]||(s[2]=t("div",{class:"text-4xl mb-4"},"‚öôÔ∏è",-1)),t("h2",it,a(e.$t("home.tournamentAdmin.title")),1),t("p",nt,a(e.$t("home.tournamentAdmin.description")),1)]),_:1})):d("",!0),r(n).isUser?(i(),p(r(m),{key:1,to:"/dashboard",class:"nav-card"},{default:c(()=>[s[3]||(s[3]=t("div",{class:"text-4xl mb-4"},"üìà",-1)),t("h2",lt,a(e.$t("home.myDashboard.title")),1),t("p",dt,a(e.$t("home.myDashboard.description")),1)]),_:1})):d("",!0),r(n).isTeam?(i(),p(r(m),{key:2,to:"/profile",class:"nav-card"},{default:c(()=>[s[4]||(s[4]=t("div",{class:"text-4xl mb-4"},"üë•",-1)),t("h2",ct,a(e.$t("home.myTeamProfile.title")),1),t("p",mt,a(e.$t("home.myTeamProfile.description")),1)]),_:1})):d("",!0),r(n).isTeam?(i(),p(r(m),{key:3,to:"/dashboard",class:"nav-card"},{default:c(()=>[s[5]||(s[5]=t("div",{class:"text-4xl mb-4"},"üìÖ",-1)),t("h2",ut,a(e.$t("home.myDashboard.title")),1),s[6]||(s[6]=t("p",{class:"nav-card-description"}," View your upcoming matches and team statistics ",-1))]),_:1})):d("",!0),r(n).isAdmin?(i(),p(r(m),{key:4,to:"/theme-demo",class:"nav-card"},{default:c(()=>[...s[7]||(s[7]=[t("div",{class:"text-4xl mb-4"},"üé®",-1),t("h2",{class:"nav-card-title"},"Theme Demo",-1),t("p",{class:"nav-card-description"}," Experience different themes and color schemes ",-1)])]),_:1})):d("",!0),r(n).isAuthenticated?r(n).isUser||r(n).isAdmin?(i(),p(r(m),{key:6,to:"/profile",class:"nav-card"},{default:c(()=>[s[9]||(s[9]=t("div",{class:"text-4xl mb-4"},"üë§",-1)),t("h2",xt,a(e.$t("home.profile.title")),1),t("p",_t,a(r(n).profile?.email),1),t("span",{class:v(["role-badge",R(r(n).profile?.role)])},a(r(n).profile?.role),3)]),_:1})):d("",!0):(i(),p(r(m),{key:5,to:"/login",class:"nav-card"},{default:c(()=>[s[8]||(s[8]=t("div",{class:"text-4xl mb-4"},"üîë",-1)),t("h2",pt,a(e.$t("home.login.title")),1),t("p",ft,a(e.$t("home.login.description")),1)]),_:1}))]),r(n).isAuthenticated?d("",!0):(i(),l("div",ht,[t("h2",{class:"text-2xl md:text-3xl font-bold text-center mb-4 md:mb-8 font-theme-title",style:b({color:r(u).currentTheme?.colors.primary})}," üìÖ "+a(e.$t("home.upcomingMatches.title")),5),T.value?(i(),l("div",bt,[t("div",{class:"animate-spin rounded-full h-8 w-8 border-b-2 mx-auto mb-2",style:b({borderColor:r(u).currentTheme?.colors.primary})},null,4),t("p",{style:b({color:r(u).currentTheme?.colors.text})},a(e.$t("home.upcomingMatches.loadingMatches")),5)])):k.value.length===0?(i(),l("div",vt,[s[10]||(s[10]=t("div",{class:"text-6xl mb-4"},"üìä",-1)),t("p",{class:"text-xl",style:b({color:r(u).currentTheme?.colors.text})}," No upcoming matches at the moment ",4)])):(i(),l("div",gt,[(i(!0),l(J,null,K(k.value,o=>(i(),p(r(m),{key:o.id,to:{name:"scoreboard",params:{id:o.id}},class:"nav-card block hover:scale-[1.02] transition-transform duration-300 !p-3 md:!p-6"},{default:c(()=>[t("div",yt,[t("div",wt,[t("h3",kt,[h(a(g(o.team_a,o))+" ",1),s[11]||(s[11]=t("span",{class:"opacity-50 mx-1"},"vs",-1)),h(" "+a(g(o.team_b,o)),1)]),t("div",Tt,[t("span",$t,a(o.score_a),1),s[12]||(s[12]=t("span",{class:"text-xl opacity-50"},"-",-1)),t("span",Mt,a(o.score_b),1)])]),t("div",Dt,[o.start_time?(i(),l("span",St," ‚è∞ "+a(C(o.start_time)),1)):d("",!0),t("span",{class:v(["px-2 py-1 rounded text-xs font-semibold uppercase",V(o.status)])},a(o.status),3),t("span",{class:v(["px-2 py-1 rounded text-xs font-semibold",y(o).class])},a(y(o).label),3),o.time_left&&o.status==="active"?(i(),l("span",Et," ‚è±Ô∏è "+a(A(o.time_left)),1)):d("",!0),o.match_date?(i(),l("span",At,a(E(o.match_date)),1)):d("",!0)])]),t("div",Ct,[t("div",Vt,[t("div",Bt,[o.start_time?(i(),l("span",Nt," ‚è∞ "+a(C(o.start_time)),1)):d("",!0),t("span",{class:v(["px-3 py-1 rounded-full text-xs font-semibold uppercase",V(o.status)])},a(o.status),3),t("span",{class:v(["px-3 py-1 rounded-full text-xs font-semibold",y(o).class])},a(y(o).label),3),o.match_date?(i(),l("span",Ut,a(E(o.match_date)),1)):d("",!0)]),t("h3",Lt,[h(a(g(o.team_a,o))+" ",1),s[13]||(s[13]=t("span",{class:"opacity-50 mx-2"},"vs",-1)),h(" "+a(g(o.team_b,o)),1)])]),t("div",Rt,[t("div",jt,[t("span",Pt,a(o.score_a),1),s[14]||(s[14]=t("span",{class:"text-2xl opacity-50"},"-",-1)),t("span",zt,a(o.score_b),1)]),o.time_left&&o.status==="active"?(i(),l("div",Ht," ‚è±Ô∏è "+a(A(o.time_left)),1)):d("",!0)])])]),_:2},1032,["to"]))),128))]))])),t("div",qt,[t("h3",Ft,a(e.$t("features.title")),1),t("div",Gt,[t("div",Ot,[s[15]||(s[15]=t("div",{class:"text-2xl md:text-3xl mb-2 md:mb-4"},"‚è±Ô∏è",-1)),t("h4",Jt,a(e.$t("features.liveTimer.title")),1),t("p",Kt,a(e.$t("features.liveTimer.description")),1)]),t("div",Qt,[s[16]||(s[16]=t("div",{class:"text-2xl md:text-3xl mb-2 md:mb-4"},"üéØ",-1)),t("h4",Wt,a(e.$t("features.scoreTracking.title")),1),t("p",Xt,a(e.$t("features.scoreTracking.description")),1)]),t("div",Yt,[s[17]||(s[17]=t("div",{class:"text-2xl md:text-3xl mb-2 md:mb-4"},"üé™",-1)),t("h4",Zt,a(e.$t("features.specialEffects.title")),1),t("p",It,a(e.$t("features.specialEffects.description")),1)])])])])],4))}});export{oe as default};
